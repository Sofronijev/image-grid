(this["webpackJsonpholycode-live"]=this["webpackJsonpholycode-live"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(7),r=n.n(i),o=n(3),s=(n(22),n(6)),u=n(4),l=(n(23),n(2)),d=n(12),j=n(13);var b={images:[],loading:!0,error:""};var O=Object(d.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_IMAGE":return Object(l.a)(Object(l.a)({},e),{},{images:e.images.filter((function(e){return e.id!==t.payload}))});case"ADD_IMAGE":return Object(l.a)(Object(l.a)({},e),{},{images:[{url:t.payload,id:Math.floor(9999*Math.random())}].concat(Object(s.a)(e.images))});case"DELETE_CATEGORY":return Object(l.a)(Object(l.a)({},e),{},{images:e.images.map((function(e){return e.id===t.payload.image_id?Object(l.a)(Object(l.a)({},e),{},{categories:e.categories.filter((function(e){return e.id!==t.payload.category_id}))}):e}))});case"ADD_CATEGORY":var n={id:Math.floor(9999*Math.random()),name:t.payload.category_name};return Object(l.a)(Object(l.a)({},e),{},{images:e.images.map((function(e){return e.id===t.payload.image_id?e.categories?Object(l.a)(Object(l.a)({},e),{},{categories:[].concat(Object(s.a)(e.categories),[n])}):Object(l.a)(Object(l.a)({},e),{},{categories:[n]}):e}))});case"FETCH_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"FETCH_SUCCESS":return{images:t.payload,loading:!1,error:""};case"FETCH_ERROR":return{images:[],loading:!1,error:t.payload};default:return e}}),Object(d.a)(j.a)),h=n(1);function g(e){var t=e.image,n=t.url,a=t.id,i=t.categories,r=t.height,s=t.width,l=Object(o.b)(),d=Object(c.useState)(!1),j=Object(u.a)(d,2),b=j[0],O=j[1],g=Object(c.useState)(""),f=Object(u.a)(g,2),p=f[0],m=f[1],y=Object(c.useRef)(null),E=Object(c.useRef)(null),x=Object(c.useRef)(null);function v(e){E.current.style.width=e}return Object(h.jsxs)("div",{ref:E,className:"card",children:[Object(h.jsx)("img",{width:s,height:r,src:n,alt:n}),Object(h.jsxs)("div",{className:"card-overlay",children:[Object(h.jsx)("button",{onClick:function(){return l({type:"DELETE_IMAGE",payload:a})},children:"\u274c"}),Object(h.jsx)("button",{onClick:function(){return O((function(e){return!e}))},children:b?"\ud83d\udc96":"\ud83d\udda4"}),Object(h.jsxs)("div",{className:"size-buttons",children:[Object(h.jsx)("button",{onClick:function(){return v("50%")},type:"button",children:"S"}),Object(h.jsx)("button",{onClick:function(){return v("70%")},type:"button",children:"M"}),Object(h.jsx)("button",{onClick:function(){return v("100%")},type:"button",children:"L"})]}),Object(h.jsxs)("div",{className:"categories",children:[function(){if(i)return i.map((function(e){return Object(h.jsxs)("p",{children:[e.name," ",Object(h.jsx)("span",{onClick:function(){return l((t=a,n=e.id,{type:"DELETE_CATEGORY",payload:{image_id:t,category_id:n}}));var t,n},children:"x"})]},e.id)}))}(),Object(h.jsx)("p",{ref:x,className:"add-category",title:"Add category",onClick:function(){y.current.style.display="grid",x.current.style.display="none"},children:"+"}),Object(h.jsxs)("div",{ref:y,className:"input-container",children:[Object(h.jsx)("input",{type:"text",placeholder:"Add category",value:p,onChange:function(e){m(e.target.value)}}),Object(h.jsx)("span",{className:"submit",onClick:function(){l({type:"ADD_CATEGORY",payload:{image_id:a,category_name:p}}),m("")},children:"\u2714"}),Object(h.jsx)("span",{className:"cancel",onClick:function(){y.current.style.display="none",x.current.style.display="inline-block",m("")},children:"\u2716"})]})]})]})]})}function f(e){var t=e.images;return Object(h.jsx)("div",{className:"card-columns",children:t.map((function(e){return Object(h.jsx)(g,{image:e},e.id)}))})}function p(){var e=Object(o.b)(),t=Object(c.useState)(""),n=Object(u.a)(t,2),a=n[0],i=n[1];return Object(h.jsxs)("div",{className:"add-image",children:[Object(h.jsx)("input",{value:a,onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Enter image URL"}),Object(h.jsx)("button",{type:"button",onClick:function(){""!==a.trim()&&e(function(e){return console.log(e),{type:"ADD_IMAGE",payload:e}}(a))},children:"Add"})]})}var m=function(){var e=Object(c.useState)(3),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(o.c)((function(e){return e})),r=Object(o.b)();return Object(c.useEffect)((function(){r((function(e){e({type:"FETCH_REQUEST"}),fetch("https://api.thecatapi.com/v1/images/search?limit=80&mime_t\udbc0\udc5cpes=&order=Random&si\udbc0\udc5de=small&page=3&sub_id=demo-ce06ee").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_SUCCESS",payload:t})})).catch((function(t){e({type:"FETCH_ERROR",payload:t.message})}))}))}),[r]),Object(c.useEffect)((function(){function e(){window.innerWidth>1008?a(3):window.innerWidth>641?a(2):a(1)}return window.addEventListener("resize",e),function(){window.addEventListener("resize",e)}}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Catsplash"}),Object(h.jsx)(p,{}),Object(h.jsx)("main",{children:i.loading?Object(h.jsx)("h2",{children:"Loading..."}):i.error?Object(h.jsx)("h2",{children:i.error}):function(){if(!1===i.loading){for(var e=Object(s.a)(i.images),t=[],c=n;c>0;c--)t.push(e.splice(0,Math.ceil(e.length/c)));return t.map((function(e,t){return Object(h.jsx)(f,{images:e},t)}))}}()})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(o.a,{store:O,children:Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})})}),document.getElementById("root")),y()}},[[25,1,2]]]);
//# sourceMappingURL=main.b3a0fbaa.chunk.js.map